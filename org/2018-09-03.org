* OKR: no crashed node
** Cannot start server
*** Error 1 - Peer file not exist

    #+BEGIN_QUOTE
    fail to restore peer data: open
    /Users/Aaron/golang/src/github.com/bitmark-inc/bitmarkd/command/bitmarkd/peers-local.json:
    no such file or directory
    #+END_QUOTE

    Create file `peers-local.json`. File name is generated by `Network`
    variable, currently it sets to `local`.

    #+BEGIN_SRC go
    "peers-" + chain.Local + ".json"
    #+END_SRC
*** Error 2 - Empty peer file content

    #+BEGIN_QUOTE
    announce: fail to restore peer data: json: cannot unmarshal object
    into Go value of type announce.PeerList
    #+END_QUOTE

    Change chain to testing

    #+BEGIN_QUOTE
    chain = testing
    #+END_QUOTE
*** Error 3 - No private key

    #+BEGIN_QUOTE
    peer: read private key file:
    "/Users/Aaron/golang/src/github.com/bitmark-inc/bitmarkd/command/bitmarkd/peer.private"
    error: key file not found
    #+END_QUOTE

    Use following commands to generate key ([[https://github.com/bitmark-inc/bitmarkd][reference]])

    #+BEGIN_SRC shell
    bitmarkd --config-file="bitmarkd.conf" gen-peer-identity
    bitmarkd --config-file="bitmarkd.conf" gen-rpc-cert
    bitmarkd --config-file="bitmarkd.conf" gen-proof-identity
    #+END_SRC
*** Error 4 - Resource unavailable

    #+BEGIN_QUOTE
    connector: connect[0]="127.0.0.1:3136"  error: resource temporarily unavailable
    #+END_QUOTE

    comment `bitmarkd.conf` line of dedicated connections settings

    #+BEGIN_SRC shell
    # connect = {public_key = "781d78a9eb338a511ae88a9be5383095ede46445596506e29ad8f022a3f8596e", address = "127.0.0.1:3136"}
    #+END_SRC
** Bitmarkd document

   [[https://hackmd.io/ICiAVNf0QYqTCQUDEfNIYw][reference 1]]

   [[https://paper.dropbox.com/doc/Bitmark-Backend-Starter-Kit-I-TyndrEtLeHEHKEhbB7jOh][reference2]]
** Google blog

   [[https://blog.chromium.org/2012/04/fuzzing-for-security.html][reference]]
* Slack theme

  [[https://github.com/widget-/slack-black-theme/issues/48][reference]]

  Modify file at `/Applications/Slack.app/Contents/Resources/app.asar.unpacked/src/static/ssb-interop.js`

  #+BEGIN_SRC js
    document.addEventListener('DOMContentLoaded', function() {
      // Then get its webviews
      let webviews = document.querySelectorAll('.TeamView webview');

      // Fetch our CSS in parallel ahead of time
      const cssPath = 'https://cdn.rawgit.com/widget-/slack-black-theme/master/custom.css';
      let cssPromise = fetch(cssPath).then((response) => response.text());

      let customCustomCSS = `
        :root {
          /* Modify these to change your theme colors: */
          --primary: #61AFEF;
          --text: #ABB2BF;
          --background: #282C34;
          --background-elevated: #3B4048;
        }
        pre.special_formatting
        {
          background-color: #282C34 !important;
          color: #8f8f8f !important;
          border: solid;
          border-width: 1px !important;
        }

        #im_browser .im_browser_row,
        .c-message_list__day_divider__line
        {
          border-top: 1px solid #afafaf;
        }

        div.c-message.c-message--light.c-message--hover,
        #file_preview_scroller .texty_comment_input,
        .c-message.c-message--light.c-message--hover.c-message--adjacent.c-message--last
        {
          color: #fff !important;
          background-color: #3B4048 !important;
        }

        #file_preview_scroller .message_sender,
        #file_preview_scroller .file_viewer_link,
        #file_preview_scroller .comment_body,
        #file_preview_scroller .ts_tip_btn,
        #file_preview_scroller .file_comment_tip,
        #file_preview_scroller .file_meta,
        #file_preview_scroller .file_ssb_download_link,
        .c-member--medium,
        .c-member__display-name,
        .c-member__secondary-name--medium,
        .c-team__display-name,
        .c-usergroup__handle,
        .c-message_attachment,
        .c-message_attachment__pretext,
        .c-message_attachment__button,
        .c-message_attachment__select,
        .c-message_list__day_divider__label,
        .c-file__title,
        .c-file__meta,
        .c-reaction__count,
        .c-reaction_add__icon--fg,
        .c-input_select_options_list__option,
        .c-input_select_options_list_container:not(.c-input_select_options_list_container--always-open),
        span.c-message__body,
        a.c-message__sender_link,
        div.c-message_attachment__row,
        div.p-message_pane__foreword__description span,
        ts-conversation.message_container ts-message .message_content .message_sender,
        span.c-message_attachment__media_trigger.c-message_attachment__media_trigger--caption
        {
          color: #afafaf !important;
        }

        .c-reaction_add__icon--bg
        {
          color: #282C34 !important;
        }

        div.c-virtual_list__scroll_container,
        div.c-message:hover,
        .c-file_container,
        .c-file__slide--meta,
        .c-reaction,
        .c-reaction_add,
        .c-message_list__day_divider__label__pill,
        .c-button--outline,
        .c-message_attachment__button,
        .c-message_attachment__select,
        .c-input_select_options_list_container:not(.c-input_select_options_list_container--always-open),
        #im_browser #im_list_container:not(.keyboard_active).not_scrolling .im_browser_row:not(.disabled_dm):hover
        {
          background-color: #282C34 !important;
        }

        .c-file__icon:after
        {
          border: 3px solid #282C34;
        }

        .c-button--outline,
        .c-message_attachment__button,
        .c-message_attachment__select,
        .c-file_container,
        .c-reaction,
        .c-reaction_add,
        .c-input_select_options_list_container:not(.c-input_select_options_list_container--always-open)
        {
          border: 1px solid;
          border-color: #3B4048;
        }

        .c-file_container:hover,
        .c-reaction:focus,
        .c-reaction:hover,
        .c-reaction_add:focus,
        .c-reaction_add:hover,
        {
          border-color: #afafaf;
        }

        .c-file_container--has_thumb .c-file__actions:before
        {
          background-image: linear-gradient(90deg,hsla(0,0%,100%,0),#282C34 20px);
        }

        .c-member_slug--link
        {
          background: #3B4048;
        }

        .c-member_slug--link:hover
        {
          background: #25272a;
        }

        .p-message_pane .c-message_list:not(.c-virtual_list--scrollbar),
        .p-message_pane .c-message_list.c-virtual_list--scrollbar > .c-scrollbar__hider {
            z-index: 0;
        }
        .ql-placeholder {
          color: #FEFEFE !important;
        }

        .c-unified_member__secondary-name,
        .c-unified_member__display-name,
        .c-channel_name  {
          color: #fff;
        }

        .c-search__input_and_close,
        .c-search__input_box,
        .c-search-autocomplete,
        .c-search_autocomplete > footer,
        .c-search_autocomplete__footer_navigation_help {
          color: #fff;
          background: #282C34;
        }

        .ReactModal__Content ReactModal__Content--after-open {
          background: #282C34 !important;
        }
      `;

      // Insert a style tag into the wrapper view
      cssPromise.then((css) => {
        let s = document.createElement('style');
        s.type = 'text/css';
        s.innerHTML = css + customCustomCSS;
        document.head.appendChild(s);
      });

      // Wait for each webview to load
      webviews.forEach((webview) => {
        webview.addEventListener('ipc-message', (message) => {
          if (message.channel == 'didFinishLoading')
            // Finally add the CSS into the webview
            cssPromise.then((css) => {
              let script = `
                         let s = document.createElement('style');
                         s.type = 'text/css';
                         s.id = 'slack-custom-css';
                         s.innerHTML = \`${css + customCustomCSS}\`;
                         document.head.appendChild(s);
                         `;
              webview.executeJavaScript(script);
            });
        });
      });
    });
  #+END_SRC
* RPC vs Restful

  [[https://www.zhihu.com/question/28570307][reference]]
